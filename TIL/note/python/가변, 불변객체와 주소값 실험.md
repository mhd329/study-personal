<br>

###### 단서 1.

- 파이썬의 모든 자료는 객체이다.

<br>

###### 단서 2.

- 변수에 객체를 대입하면 특정한 메모리 주소를 할당받는다.

<br>

###### 단서 3.

- `int`, `float`, `str`, `tuple` 과 같은 불변객체들은 같은 이름을 가진 변수에다가 새로 다른 값을 대입하면 그 순간 다른 주소를 참조하게 되어서,
- 서로 변수이름이 같더라도 같은 변수로 볼 수 없다.

- 그러나 `list` 같은 가변객체들은 다른 값을 대입해도 같은 주소를 유지한다.

<br>

# Q 1.

- 그렇다면 변수에 대입되는것은 객체가 아니라 객체의 주소인가 ?
- 객체는 어느 메모리 주소에 저장이 되어 있고, 그 주소만 변수에 담겨있는 형태?

<br>

```python
a = 10
b = a # a 와 b 의 주소가 같다.
print(a is b) # True
```

<br>

```python
a = 10
print(id(a))
a = 20
print(id(a))
# 두 변수는 서로 이름은 같지만 id 가 다르다.
```

<br>

```python
s1 = 'hello'
print(id(s1))
s2 = s1.replace('h', 'H')
print(id(s2))
# 두 변수는 같은 변수 내에서 값이 변화하였지만 id 가 다르다.
```

<br>

```python
li = [0, 1, 2, 3]
print(id(li))
li[0] = 4
print(id(li)) # 내부의 값이 변했지만 주소는 변하지 않았다.
```

<br>

# Q 2.

- 리스트는 변수같은 일종의 껍데기 이고 그 안에 주소를 담는 여러 공간이 있는 형태인가?

<br>

# A.

- 얕은 복사와 깊은 복사를 사용하여 복사와 주소의 관계 알아보기

<br>

```python
li = ["outside", ["inside"]]
cp = copy.copy(li)
dpcp = copy.deepcopy(li)

print(id(li), id(li[0]), id(li[1]))
print(id(cp), id(cp[0]), id(cp[1]))
print(id(dpcp), id(dpcp[0]), id(dpcp[1]))
```

<br>

###### 결과 1.

- `cp`, `dpcp` 모두 주소가 원본과 각자 다름

- 리스트 라는 껍데기 이면서 동시에 객체 (이하 껍데기객체) 를 새로 만들었기 때문인 것 같다.

<br>

###### 결과 2.

- `cp` : `outside`, `inside` 주소가 같음

- `dpcp` : `outside` 는 주소가 같은데 `inside` 는 다름

- `inside` 가 위치해있는 자리에 어떤 주소가 필요한 불변객체 값이 들어간게 아니라,
- 또 다시 리스트라는 별도의 주소가 필요한 껍데기객체가 들어가있기 때문인 것 같다.

<br>

###### 결과 3.

- `copy` 는 복사할 때 리스트라는것의 주소를 복사했고 따라서 원본과 같은 주소의 리스트를 보고 있음
- `deepcopy`는 `inside` 라는 불변객체의 문자열 값을 복사 (copy 처럼 리스트를 복사한 것이 아님)
- 즉 위 세 개의 모든 리스트가 제일 깊은 곳에 있는`inside` 라는 불변객체를 바라보는 주소는 같지만 그것을 담고있는 리스트는 다르게 만들 수 있다.
- `deepcopy` 는 다른 리스트를 만들어서 거기에 `inside` 를 담는다.

<br>

###### 정리.

- `inside` 가 담겨있는 `li[1]` 의 자리를 복사 : `copy`
- `li[1]` 를 검사해서 리스트와 같은 가변객체 형식이면 그 내부로 또 들어가서 그 안의 `inside` 라는 불변객체를 복사 : `deepcopy`
- 리스트 내부의 1차원 주소값을 그대로 복사할건지, 그 이상 들어갈 것인지의 차이인 것 같다.

<br>

###### Q 3.

- 리스트는 변수명의 집합인가?
- 즉, 리스트는 주소값의 집합, 주소값을 담는 객체인가?
- `deepcopy` 는 가변객체를 끝없이 들어가서 불변객체가 나올때까지 진행하나?
