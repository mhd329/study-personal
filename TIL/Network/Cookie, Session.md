# 쿠키와 세션

<br>

쿠키

- 서버와 클라이언트가 통신할 때 클라이언트 쪽에서 가지고 있는 정보

세션

- 서버쪽에서 가지고 있는 정보
- 일정 기간동안 같은 사용자로부터 들어오는 일련의 요구를 하나의 상태로 보고 그 상태를 유지시키는 기술

쿠키와 세션의 차이

- 쿠키는 클라이언트 측에서 저장되고 세션은 서버측에 저장
- 정보의 특성에 따라, 즉 지워지거나 가로채졌을 때 문제가 생길만한 것들은 세션에 보관하고 그렇지 않는 것들은 쿠키에 보관
- 모두 세션에 저장하게 되면 서버측의 부담이 커지므로 적절히 분배

세션 기반 인증과 토큰 기반 인증

- 세션 기반 인증은 클라이언트로부터 요청을 받으면 클라이언트의 상태 정보를 저장하므로 Stateful한 구조
  - 서버에 세션을 저장하기 때문에 사용자가 증가하면 서버에 걸리는 부하가 커질 수 있어 확장성이 낮음

  - 세션 하이재킹 공격에 당할 위험

- 토큰 기반 인증은 상태 정보를 서버에 저장하지 않으므로 Stateless한 구조

세션기반인증과 토큰기반 인증

1. 단일 도메인 : 세션 기반 인증을 사용
   - 그 외 토큰 기반 인증을 사용하는 것이 적합
2. 세션을 관리할 때 사용되는 쿠키는 단일 도메인 및 서브 도메인에서만 작동하도록 설계
3. 여러 도메인에서 관리하기 힘듦 (CORS 문제)

